<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Spark Lite</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary: #2563EB;
            --accent: #FACC15;
            --light-bg: #F3F4F6;
            --dark: #1F2937;
            --light-text: #6B7280;
            --white: #FFFFFF;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--light-bg);
            color: var(--dark);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px 0;
            border-bottom: 1px solid #E5E7EB;
        }

        h1 {
            font-family: 'Inter', sans-serif;
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--primary), #3B82F6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: inline-block;
        }

        .tagline {
            color: var(--light-text);
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .feature-card {
            background: var(--white);
            border-radius: 12px;
            padding: 25px;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #E5E7EB;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .feature-title {
            font-family: 'Inter', sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .feature-desc {
            color: var(--light-text);
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }

        .input-field {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #D1D5DB;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
            font-family: 'Roboto', sans-serif;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .btn:hover {
            background: #1D4ED8;
            transform: translateY(-2px);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-accent {
            background: var(--accent);
            color: var(--dark);
        }

        .btn-accent:hover {
            background: #EAB308;
        }

        .result-container {
            margin-top: 30px;
            background: var(--white);
            border-radius: 12px;
            padding: 25px;
            box-shadow: var(--shadow);
            display: none;
            border-left: 4px solid var(--primary);
        }

        .result-title {
            font-family: 'Inter', sans-serif;
            font-size: 1.25rem;
            margin-bottom: 15px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-content {
            line-height: 1.7;
            color: #374151;
            white-space: pre-line;
        }

        .share-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .share-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            border-radius: 6px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid #E5E7EB;
            background: white;
            color: #4B5563;
            text-decoration: none;
        }

        .share-btn:hover {
            background: #F9FAFB;
            transform: translateY(-1px);
        }

        .share-btn.linkedin {
            color: #0A66C2;
            border-color: #D1E7FF;
            background: #EFF8FF;
        }

        .share-btn.twitter {
            color: #1DA1F2;
            border-color: #E1F0FF;
            background: #F0F8FF;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: var(--light-text);
        }

        .spinner {
            border: 3px solid rgba(37, 99, 235, 0.2);
            border-radius: 50%;
            border-top: 3px solid var(--primary);
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .tabs {
            display: flex;
            margin-bottom: 25px;
            border-bottom: 1px solid #E5E7EB;
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            font-weight: 500;
            color: var(--light-text);
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        @media (max-width: 768px) {
            .features {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 10px;
            }
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: pointer;
            margin-left: 5px;
            color: var(--primary);
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.85rem;
            font-weight: normal;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Career Spark Lite</h1>
            <p class="tagline">AI-powered career tools to boost your job search</p>
        </header>

        <div class="tabs">
            <div class="tab active" data-tab="project">Project Generator</div>
            <div class="tab" data-tab="interview">Interview Simulator</div>
        </div>

        <!-- Project Generator Tab -->
        <div id="project-tab" class="tab-content active">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-lightbulb"></i>
                </div>
                <h3 class="feature-title">Quick Project Generator</h3>
                <p class="feature-desc">Enter your skill below and get a unique project idea to enhance your portfolio.</p>
                
                <div class="input-group">
                    <label for="skill-input">Enter a skill (e.g., C#, Excel, AI, Web Design)</label>
                    <input type="text" id="skill-input" class="input-field" placeholder="e.g., Python, Data Analysis, UI/UX">
                </div>
                
                <button id="generate-project" class="btn">
                    <i class="fas fa-magic"></i> Generate Project Idea
                </button>
                
                <div class="loading" id="project-loading">
                    <div class="spinner"></div>
                    <p>Generating an amazing project idea for you...</p>
                </div>
                
                <div class="result-container" id="project-result">
                    <h3 class="result-title">
                        <i class="fas fa-lightbulb"></i> Your Project Idea
                    </h3>
                    <div class="result-content" id="project-content"></div>
                    
                    <div class="share-buttons">
                        <a href="#" class="share-btn linkedin" id="share-linkedin" target="_blank">
                            <i class="fab fa-linkedin"></i> Share on LinkedIn
                        </a>
                        <a href="#" class="share-btn twitter" id="share-twitter" target="_blank">
                            <i class="fab fa-twitter"></i> Share on Twitter
                        </a>
                        <button class="share-btn" id="copy-project">
                            <i class="far fa-copy"></i> Copy to Clipboard
                        </button>
                    </div>
                </div>
                
                <div class="error" id="project-error" style="display: none; color: #EF4444; margin-top: 15px;"></div>
            </div>
        </div>

        <!-- Interview Simulator Tab -->
        <div id="interview-tab" class="tab-content">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-comments"></i>
                </div>
                <h3 class="feature-title">Interview Question Simulator</h3>
                <p class="feature-desc">Practice with realistic interview questions for your target role.</p>
                
                <div class="input-group">
                    <label for="role-input">Enter a job role
                        <div class="tooltip">
                            <i class="fas fa-info-circle"></i>
                            <span class="tooltiptext">Examples: Software Engineer, Product Manager, Data Analyst, etc.</span>
                        </div>
                    </label>
                    <input type="text" id="role-input" class="input-field" placeholder="e.g., Product Manager, Data Scientist">
                </div>
                
                <button id="generate-question" class="btn btn-accent">
                    <i class="fas fa-question"></i> Get Interview Question
                </button>
                
                <div class="loading" id="interview-loading">
                    <div class="spinner"></div>
                    <p>Preparing your interview question...</p>
                </div>
                
                <div class="result-container" id="interview-result">
                    <h3 class="result-title">
                        <i class="fas fa-comment-dots"></i> Interview Question
                    </h3>
                    <div class="result-content" id="question-content"></div>
                    
                    <div class="result-title" style="margin-top: 25px;">
                        <i class="fas fa-lightbulb"></i> Coaching Tip
                    </div>
                    <div class="result-content" id="coaching-tip"></div>
                    
                    <div class="share-buttons">
                        <a href="#" class="share-btn linkedin" id="share-question-linkedin" target="_blank">
                            <i class="fab fa-linkedin"></i> Share on LinkedIn
                        </a>
                        <button class="share-btn" id="copy-question">
                            <i class="far fa-copy"></i> Copy to Clipboard
                        </button>
                    </div>
                </div>
                
                <div class="error" id="interview-error" style="display: none; color: #EF4444; margin-top: 15px;"></div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching functionality
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs and content
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding content
                tab.classList.add('active');
                document.getElementById(`${tab.dataset.tab}-tab`).classList.add('active');
            });
        });

        // Project Generator
        document.getElementById('generate-project').addEventListener('click', async () => {
            const skill = document.getElementById('skill-input').value.trim();
            const resultContainer = document.getElementById('project-result');
            const loading = document.getElementById('project-loading');
            const errorEl = document.getElementById('project-error');
            
            if (!skill) {
                errorEl.textContent = 'Please enter a skill to generate a project idea.';
                errorEl.style.display = 'block';
                return;
            }
            
            // Show loading, hide previous results and errors
            loading.style.display = 'block';
            resultContainer.style.display = 'none';
            errorEl.style.display = 'none';
            
            try {
                // In a real app, you would call your backend API here
                // For now, we'll use a mock response
                const mockResponses = [
                    `Project: Build a ${skill} Portfolio Website\n\nCreate a personal portfolio website to showcase your ${skill} projects. Include an about section, project gallery, and contact form.\n\nSteps to Get Started:\n1. Design a clean, responsive layout using HTML/CSS\n2. Add interactive elements with JavaScript\n3. Deploy using GitHub Pages or Netlify\n4. Share your new portfolio in your job applications!`,
                    `Project: ${skill} Data Analysis Dashboard\n\nBuild an interactive dashboard that analyzes and visualizes data related to ${skill}. Use tools like Python, Pandas, and Plotly.\n\nSteps to Get Started:\n1. Find a dataset related to ${skill} (try Kaggle or Google Dataset Search)\n2. Clean and preprocess the data\n3. Create visualizations to highlight key insights\n4. Build an interactive interface with filters`,
                    `Project: ${skill} Automation Script\n\nCreate a Python script that automates a common task related to ${skill}. This could save hours of manual work!\n\nSteps to Get Started:\n1. Identify a repetitive task in your ${skill} workflow\n2. Break it down into logical steps\n3. Write Python code to automate each step\n4. Add error handling and documentation`
                ];
                
                // Simulate API call delay
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // Get random mock response
                const response = mockResponses[Math.floor(Math.random() * mockResponses.length)];
                
                // Display the result
                document.getElementById('project-content').textContent = response;
                
                // Update share buttons
                const shareText = `Check out this ${skill} project idea I just generated with Career Spark Lite!\n\n${response}\n\n#CareerSpark #${skill.replace(/\s+/g, '')} #PortfolioProject`;
                const encodedText = encodeURIComponent(shareText);
                
                document.getElementById('share-linkedin').href = 
                    `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}`;
                document.getElementById('share-twitter').href = 
                    `https://twitter.com/intent/tweet?text=${encodedText}`;
                
                // Show the result
                resultContainer.style.display = 'block';
                
            } catch (error) {
                console.error('Error generating project idea:', error);
                errorEl.textContent = 'Failed to generate project idea. Please try again.';
                errorEl.style.display = 'block';
            } finally {
                loading.style.display = 'none';
            }
        });

        // Interview Question Simulator
        document.getElementById('generate-question').addEventListener('click', async () => {
            const role = document.getElementById('role-input').value.trim();
            const resultContainer = document.getElementById('interview-result');
            const loading = document.getElementById('interview-loading');
            const errorEl = document.getElementById('interview-error');
            
            if (!role) {
                errorEl.textContent = 'Please enter a job role to get interview questions.';
                errorEl.style.display = 'block';
                return;
            }
            
            // Show loading, hide previous results and errors
            loading.style.display = 'block';
            resultContainer.style.display = 'none';
            errorEl.style.display = 'none';
            
            try {
                // In a real app, you would call your backend API here
                // For now, we'll use a mock response
                const mockQuestions = [
                    {
                        question: `How would you approach solving a complex problem as a ${role}?`,
                        tip: `Structure your answer using the STAR method (Situation, Task, Action, Result). Focus on demonstrating your problem-solving process, how you break down complex issues, and how you collaborate with others. Tailor your example to the specific responsibilities of a ${role}.`
                    },
                    {
                        question: `As a ${role}, how do you prioritize your tasks when everything seems important?`,
                        tip: `Discuss frameworks you use (like Eisenhower Matrix, MoSCoW method) and how you communicate priorities to stakeholders. Mention how you balance urgent vs. important tasks and how you handle shifting priorities.`
                    },
                    {
                        question: `Can you describe a time when you had to learn a new technology or skill for a project as a ${role}?`,
                        tip: `Choose an example that shows your ability to learn quickly. Explain the situation, why the new skill was needed, how you went about learning it, and the positive outcome it brought to the project or team.`
                    }
                ];
                
                // Simulate API call delay
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // Get random mock question
                const { question, tip } = mockQuestions[Math.floor(Math.random() * mockQuestions.length)];
                
                // Display the result
                document.getElementById('question-content').textContent = question;
                document.getElementById('coaching-tip').textContent = tip;
                
                // Update share button
                const shareText = `Preparing for ${role} interviews? Here's a practice question I found helpful:\n\n"${question}"\n\n#InterviewPrep #${role.replace(/\s+/g, '')} #CareerSpark`;
                document.getElementById('share-question-linkedin').href = 
                    `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}`;
                
                // Show the result
                resultContainer.style.display = 'block';
                
            } catch (error) {
                console.error('Error generating interview question:', error);
                errorEl.textContent = 'Failed to generate interview question. Please try again.';
                errorEl.style.display = 'block';
            } finally {
                loading.style.display = 'none';
            }
        });

        // Copy to Clipboard functionality
        document.getElementById('copy-project').addEventListener('click', () => {
            const textToCopy = document.getElementById('project-content').textContent;
            navigator.clipboard.writeText(textToCopy).then(() => {
                const btn = document.getElementById('copy-project');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                setTimeout(() => {
                    btn.innerHTML = originalText;
                }, 2000);
            });
        });

        document.getElementById('copy-question').addEventListener('click', () => {
            const question = document.getElementById('question-content').textContent;
            const tip = document.getElementById('coaching-tip').textContent;
            const textToCopy = `Interview Question:\n${question}\n\nCoaching Tip:\n${tip}`;
            
            navigator.clipboard.writeText(textToCopy).then(() => {
                const btn = document.getElementById('copy-question');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                setTimeout(() => {
                    btn.innerHTML = originalText;
                }, 2000);
            });
        });

        // Initialize with a project idea for better UX
        window.addEventListener('load', () => {
            document.getElementById('skill-input').value = 'Web Development';
            // Trigger a click on the generate button after a short delay
            setTimeout(() => {
                document.getElementById('generate-project').click();
            }, 500);
        });
    </script>
</body>
</html>
<script>
    // ... existing code ...
  
    // Replace the mock implementation with real API calls
    async function generateProjectWithAI(skill) {
      const loading = document.getElementById('project-loading');
      const errorEl = document.getElementById('project-error');
      
      try {
        loading.style.display = 'block';
        errorEl.style.display = 'none';
        
        const response = await fetch('http://localhost:3001/api/generate-project', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ skill })
        });
        
        const data = await response.json();
        
        if (!response.ok) {
          throw new Error(data.error || 'Failed to generate project');
        }
        
        return data.result;
      } catch (error) {
        console.error('API Error:', error);
        errorEl.textContent = error.message || 'Failed to generate project. Please try again.';
        errorEl.style.display = 'block';
        throw error;
      } finally {
        loading.style.display = 'none';
      }
    }
  
    async function generateInterviewQuestion(role) {
      const loading = document.getElementById('interview-loading');
      const errorEl = document.getElementById('interview-error');
      
      try {
        loading.style.display = 'block';
        errorEl.style.display = 'none';
        
        const response = await fetch('http://localhost:3001/api/generate-interview', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ role })
        });
        
        const data = await response.json();
        
        if (!response.ok) {
          throw new Error(data.error || 'Failed to generate interview question');
        }
        
        return data.result;
      } catch (error) {
        console.error('API Error:', error);
        errorEl.textContent = error.message || 'Failed to generate interview question. Please try again.';
        errorEl.style.display = 'block';
        throw error;
      } finally {
        loading.style.display = 'none';
      }
    }
  
    // Update the project generation click handler
    document.getElementById('generate-project').addEventListener('click', async () => {
      const skill = document.getElementById('skill-input').value.trim();
      const resultContainer = document.getElementById('project-result');
      const errorEl = document.getElementById('project-error');
      
      if (!skill) {
        errorEl.textContent = 'Please enter a skill to generate a project idea.';
        errorEl.style.display = 'block';
        return;
      }
      
      try {
        const response = await generateProjectWithAI(skill);
        document.getElementById('project-content').textContent = response;
        resultContainer.style.display = 'block';
        
        // Update share buttons
        const shareText = `Check out this ${skill} project idea I just generated with Career Spark Lite!\n\n${response}\n\n#CareerSpark #${skill.replace(/\s+/g, '')} #PortfolioProject`;
        const encodedText = encodeURIComponent(shareText);
        
        document.getElementById('share-linkedin').href = 
            `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}`;
        document.getElementById('share-twitter').href = 
            `https://twitter.com/intent/tweet?text=${encodedText}`;
        
      } catch (error) {
        console.error('Error:', error);
        // Error is already handled in generateProjectWithAI
      }
    });
  
    // Update the interview question click handler
    document.getElementById('generate-question').addEventListener('click', async () => {
      const role = document.getElementById('role-input').value.trim();
      const resultContainer = document.getElementById('interview-result');
      const errorEl = document.getElementById('interview-error');
      
      if (!role) {
        errorEl.textContent = 'Please enter a job role to get interview questions.';
        errorEl.style.display = 'block';
        return;
      }
      
      try {
        const response = await generateInterviewQuestion(role);
        const [question, ...tipParts] = response.split('Coaching Tip:');
        
        document.getElementById('question-content').textContent = question.replace('Question:', '').trim();
        document.getElementById('coaching-tip').textContent = tipParts.join('').trim();
        resultContainer.style.display = 'block';
        
        // Update share button
        const shareText = `Preparing for ${role} interviews? Here's a practice question I found helpful:\n\n"${question.trim()}"\n\n#InterviewPrep #${role.replace(/\s+/g, '')} #CareerSpark`;
        document.getElementById('share-question-linkedin').href = 
            `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}`;
        
      } catch (error) {
        console.error('Error:', error);
        // Error is already handled in generateInterviewQuestion
      }
    });
  
    // ... rest of your existing JavaScript ...
  </script>
  